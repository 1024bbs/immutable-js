{"version":3,"file":"build/all.js","sources":["build/all.js"],"names":[],"mappings":"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","sourcesContent":["var LazyIterable = require('./LazyIterable');\nvar ArrayIterator = require('./ArrayIterator');\nvar ObjectIterator = require('./ObjectIterator');\nvar Map = require('./Map');\nvar Vector = require('./Vector');\nvar Set = require('./Set');\n\n/**\n * The same semantics as Object.is(), but treats persistent data structures as\n * data, equal when the structure contains equivalent data.\n */\nfunction is(first, second) {\n  if (first === 0 && second === 0) {\n    return 1 / first === 1 / second;\n  }\n  if (first !== first) {\n    return second !== second;\n  }\n  if (isPersistent(first)) {\n    return first.equals(second);\n  }\n  return first === second;\n}\n\nfunction isPersistent(value) {\n  return value instanceof Map || value instanceof Vector || value instanceof Set;\n}\n\nfunction isLazy(value) {\n  return value instanceof LazyIterable;\n}\n\nfunction lazy(value) {\n  if (isLazy(value)) {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return new ArrayIterator(value);\n  }\n  if (typeof value === 'object') {\n    return new ObjectIterator(value);\n  }\n  return null;\n}\n\nfunction fromJS(json) {\n  if (Array.isArray(json)) {\n    var vect = Vector.empty();\n    json.forEach((v, k) => {\n      vect.set(k, fromJS(v));\n    });\n    return vect;\n  }\n  if (typeof json === 'object') {\n    var map = Map.empty();\n    for (var k in json) {\n      if (json.hasOwnProperty(k)) {\n        map.set(k, fromJS(json[k]));\n      }\n    }\n    return map;\n  }\n  return json;\n}\n\nfunction toJS(value) {\n  if (value instanceof Vector) {\n    var array = value.map(toJS).toArray();\n    array.length = value.length;\n    return array;\n  }\n  if (value instanceof Map) {\n    return value.map(toJS).toObject();\n  }\n  if (value instanceof Set) {\n    return value.map(toJS).toArray();\n  }\n  return value;\n}\n\nmodule.exports = {\n  is: is,\n  isPersistent: isPersistent,\n  isLazy: isLazy,\n  lazy: lazy,\n  fromJS: fromJS,\n  toJS: toJS,\n  LazyIterable: LazyIterable,\n  ArrayIterator: ArrayIterator,\n  ObjectIterator: ObjectIterator,\n  Map: Map,\n  Vector: Vector,\n  Set: Set,\n};\n"]}